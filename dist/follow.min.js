class Follow{defaults=new FollowDefaults;elements=[];mouse=new FollowPosition(0,0);scroll=new FollowPosition(0,0);constructor(a=void 0){this.setDefaults(a),this.defaults.initiate&&this.initiate()}initiate(){let a=document.querySelectorAll(`[${this.defaults.attribute}]`);a.forEach(a=>this.elements.push(new FollowElement(a,this.defaults)));let b=this;document.addEventListener("mousemove",a=>{Follow.updateMousePosition(new FollowPosition(a.clientX,a.clientY),b),Follow.animate(b)}),document.addEventListener("scroll",()=>{Follow.updateScrollPosition(new FollowPosition(window.scrollX,window.scrollY),b),Follow.animate(b)})}destroy(){this.elements=[]}refresh(){this.destroy(),this.initiate()}static animate(a){for(let b of a.elements){let c=new FollowPosition(parseFloat(((a.mouse.x+a.scroll.x-b.position.x)/b.factor).toString()),parseFloat(((a.mouse.y+a.scroll.y-b.position.y)/b.factor).toString()));b.setTranslate(c)}}static updateMousePosition(a,b){b.mouse.x=a.x,b.mouse.y=a.y}static updateScrollPosition(a,b){b.scroll.x=a.x,b.scroll.y=a.y}setDefaults(a){if(a&&a.defaults)for(const b in this.defaults)this.defaults.hasOwnProperty(b)&&void 0!==a.defaults[b]&&(this.defaults[b]=a.defaults[b])}}class FollowElement{constructor(a,b){this.target=a,this.factor=parseInt(a.getAttribute(b.attribute))||b.factor,this.position=this.getPosition()}getPosition(){let a=document.body.getBoundingClientRect(),b=this.target.getBoundingClientRect(),c=b.left-a.left,d=b.top-a.top,e=this.target.offsetHeight,f=this.target.offsetWidth;return c+=f/2,d+=e/2,new FollowPosition(c,d)}updatePosition(){this.position=this.getPosition()}setTranslate(a){0===a.x&&(a.x=.1),0===a.y&&(a.y=.1);let b=this.target.style.transform,c=`translate(${a.x}px, ${a.y}px)`;this.translate?b=b.replace(this.translate,c):b+=` ${c}`.trim(),this.translate=c,this.target.style.transform=b}}class FollowPosition{constructor(a,b,c=0){this.x=a,this.y=b,this.z=c}}class FollowDefaults{factor=10;attribute="data-follow";initiate=!0}(()=>{if(document.currentScript){let a=document.currentScript.getAttribute("data-follow-auto");(""===a||"true"===a)&&(window.follow=new Follow)}})();

//# sourceMappingURL=follow.min.js.map