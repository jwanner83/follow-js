class Follow{defaults=new FollowDefaults;elements=[];constructor(a=void 0){this.setDefaults(a),this.defaults.initiate&&this.initiate()}initiate(){let a=document.querySelectorAll(`[${this.defaults.attribute}]`);a.forEach(a=>this.elements.push(new FollowElement(a,this.defaults)));let b=this;document.addEventListener("mousemove",a=>{Follow.animate(a,b)}),document.addEventListener("scroll",()=>{let a=new MouseEvent("mousemove");document.dispatchEvent(a)})}destroy(){this.elements=[]}refresh(){this.destroy(),this.initiate()}static animate(a,b){let c=this.getCorrectMousePosition(a);console.log(c);for(let d of b.elements){let a=new FollowPosition(+parseFloat(((c.x-d.position.x)/d.factor).toString()).toFixed(3),+parseFloat(((c.y-d.position.y)/d.factor).toString()).toFixed(3));d.setTranslate(a)}}static getCorrectMousePosition(a){let b=document.documentElement,c=document.body,d=a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0),e=a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0);return new FollowPosition(d,e)}setDefaults(a){if(a&&a.defaults)for(const b in this.defaults)this.defaults.hasOwnProperty(b)&&void 0!==a.defaults[b]&&(this.defaults[b]=a.defaults[b])}}class FollowElement{constructor(a,b){this.target=a,this.factor=parseInt(a.getAttribute(b.attribute))||b.factor,this.position=this.getPosition()}getPosition(){let a=document.body.getBoundingClientRect(),b=this.target.getBoundingClientRect(),c=b.left-a.left,d=b.top-a.top,e=this.target.offsetHeight,f=this.target.offsetWidth;return c+=f/2,d+=e/2,new FollowPosition(c,d)}updatePosition(){this.position=this.getPosition()}setTranslate(a){0===a.x&&(a.x=.01),0===a.y&&(a.y=.01);let b=this.target.style.transform,c=`translate(${a.x}px, ${a.y}px)`;this.translate?b=b.replace(this.translate,c):b+=` ${c}`.trim(),this.translate=c,this.target.style.transform=b}}class FollowPosition{constructor(a,b,c=0){this.x=a,this.y=b,this.z=c}}class FollowDefaults{factor=10;attribute="data-follow";initiate=!0}(()=>{if(document.currentScript){let a=document.currentScript.getAttribute("data-follow-auto");(""===a||"true"===a)&&(window.follow=new Follow)}})();

//# sourceMappingURL=follow.min.js.map