import FollowElement from"./FollowElement";import FollowPosition from"./FollowPosition";import FollowDefaults from"./FollowDefaults";export default class Follow{defaults=new FollowDefaults;elements=[];mouse=new FollowPosition(0,0);scroll=new FollowPosition(0,0);constructor(a=void 0){this.setDefaults(a),this.defaults.initiate&&this.initiate()}initiate(){let a=document.querySelectorAll(`[${this.defaults.attribute}]`);a.forEach(a=>this.elements.push(new FollowElement(a,this.defaults)));let b=this;document.addEventListener("mousemove",a=>{Follow.updateMousePosition(new FollowPosition(a.clientX,a.clientY),b),Follow.animate(b)}),document.addEventListener("scroll",()=>{Follow.updateScrollPosition(new FollowPosition(window.scrollX,window.scrollY),b),Follow.animate(b)})}destroy(){this.elements=[]}refresh(){this.destroy(),this.initiate()}static animate(a){for(let b of a.elements){let c=new FollowPosition(parseFloat(((a.mouse.x+a.scroll.x-b.position.x)/b.factor).toString()),parseFloat(((a.mouse.y+a.scroll.y-b.position.y)/b.factor).toString()));b.setTranslate(c)}}static updateMousePosition(a,b){b.mouse.x=a.x,b.mouse.y=a.y}static updateScrollPosition(a,b){b.scroll.x=a.x,b.scroll.y=a.y}setDefaults(a){if(a&&a.defaults)for(const b in this.defaults)this.defaults.hasOwnProperty(b)&&void 0!==a.defaults[b]&&(this.defaults[b]=a.defaults[b])}}(()=>{if(document.currentScript){let a=document.currentScript.getAttribute("data-follow-auto");(""===a||"true"===a)&&(window.follow=new Follow)}})();

//# sourceMappingURL=follow.min.js.map